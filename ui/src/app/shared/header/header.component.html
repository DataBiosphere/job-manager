<div class="content">
  <mat-form-field class="query-form">
    <mat-chip-list #chipList>
      <mat-chip id="chip" *ngFor="let chipKey of getChipKeys()"
               [matMenuTriggerFor]="menu"
               (remove)="removeChip(chipKey)"
               (click)="setCurrentChip(chipKey)">
        {{ getDisplayValue(chipKey) }}
        <img matChipRemove
             src="https://www.gstatic.com/images/icons/material/system/1x/cancel_grey600_18dp.png">
      </mat-chip>
      <mat-menu #menu="matMenu" [overlapTrigger]="false" class="wide-menu">
        <mat-form-field class="query-input">
          <input matInput
                 placeholder="Equals"
                 type="search"
                 [(ngModel)]="currentChipValue"
                 (keyup.enter)="assignChipValue()"
                 (click)="$event.stopPropagation()"/>
        </mat-form-field>
      </mat-menu>
      <input matInput
             placeholder="Filter jobs..."
             [(ngModel)]="inputValue"
             value="{{inputValue}}"
             [matAutocomplete]="auto"
             [matChipInputFor]="chipList"
             [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
             [matChipInputAddOnBlur]="false"
             (matChipInputTokenEnd)="addChip($event.value)"
             [formControl]="control"/>
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option
          *ngFor="let option of filteredOptions | async"
          [value]="option"
          (click)="addChip(option)">
          {{ option }}
        </mat-option>
      </mat-autocomplete>
    </mat-chip-list>
    <button mat-icon-button matSuffix class="search-button" (click)="search()">
      <img src="https://www.gstatic.com/images/icons/material/system/1x/search_grey600_24dp.png">
    </button>
  </mat-form-field>

  <div *ngIf="shouldDisplayStatusButtons()">
    <button mat-raised-button class="status-button" (click)="showActiveJobs()">ACTIVE</button>
    <button mat-raised-button class="status-button" (click)="showFailedJobs()">FAILED</button>
    <button mat-raised-button class="status-button" (click)="showCompletedJobs()">COMPLETED</button>
  </div>
</div>
